# delphi对象模型

## 类

1. 所有的数据成员必须在方法和属性之前。

2. 类可以实现任意数目的接口

3. 构造函数是类函数，可以无需实例化就可以调用。

4. 对象时类的动态实例。动态实例包含了在类及它的祖先类中声明的所有类成员的值。我们使用的对象变量实际上是对象的一个引用，该引用保存在栈中而对象总是动态分配在堆上，因此对象引用是真正指向对象的指针。

5. 每个对象都有对其所有数据成员的一个独立的拷贝。一个数据成员不能在多个对象中共享。

6. 类型判断操作符is： 对象变量 is 类名。

7. 类型强制装换符as： 对象变量 as 类名。如果对象或接口变量时nil，则结果时nil。

8. 隐藏参数**self** 

   每一个方法中，delphi声明self变量为一个隐藏参数。在普通方法中，self变量的值时对象的引用，在一个类方法中，self变量的值时类的引用。

   self是一个隐藏的参数，是表示自身的变量，调用对象方法时，该参数便被传递了过来。这相当于每个方法体中都有一个隐式**with self do ** 。也就是说，所有的数据成员、方法和属性在作用域中，无需显示的引用self就可以访问他们。

   它常被用于以下三种情况：

   * 如果在方法内调用另外一个对象的方法时，需要将自身参数传递过去，那么把self传递过去好了。
   * 如果派生类和基类出现了数据成员重名，想要访问基类的数据成员，而每次只能得到派生类本身的重名数据成员，使用强制转换**基类名（self）.数据成员** 。
   * 如果在方法内调用了与数据成员同名的局部变量，则使用变量名字只能放问道局部变量，使用**self.变量名** 便访问到了数据成员。

## 方法

1. 在类方法中，Self不引用对象，而是引用类。

